# day2_parameters/test_api.http

### Day2 API 测试

### 1. 测试基本路径参数
GET http://localhost:8000/users/123

### 2. 测试带验证的路径参数
### 正常情况
GET http://localhost:8000/items/500

### 边界测试 - 最小值
GET http://localhost:8000/items/1

### 边界测试 - 最大值
GET http://localhost:8000/items/1000

### 错误测试 - 小于最小值
GET http://localhost:8000/items/0

### 错误测试 - 大于最大值
GET http://localhost:8000/items/1001

### 3. 测试枚举路径参数
GET http://localhost:8000/users/role/admin

GET http://localhost:8000/users/role/user

GET http://localhost:8000/users/role/guest

GET http://localhost:8000/users/role/moderator

### 错误测试 - 无效的枚举值
GET http://localhost:8000/users/role/invalid

### 4. 测试多个路径参数
GET http://localhost:8000/departments/10/employees/25

### 5. 测试基本查询参数
GET http://localhost:8000/search/?keyword=python&category=books&page=2&limit=5

### 6. 测试复杂查询参数验证
### 正常搜索
GET http://localhost:8000/products/?name=笔记本电脑&page=1&size=5

### 带价格过滤
GET http://localhost:8000/products/?name=智能手机&min_price=1000&max_price=5000&page=1&size=3

### 带标签过滤
GET http://localhost:8000/products/?name=无线耳机&tags=蓝牙&tags=降噪&page=1&size=5

### 错误测试 - 名称太短
GET http://localhost:8000/products/?name=ab&page=1

### 错误测试 - 名称太长
GET http://localhost:8000/products/?name=这是一个非常非常非常非常非常非常非常长的产品名称超出了限制&page=1

### 错误测试 - 价格无效
GET http://localhost:8000/products/?name=测试产品&min_price=-100

### 7. 测试别名和弃用参数
### 使用旧参数名
GET http://localhost:8000/legacy/?q=搜索词

### 使用新别名
GET http://localhost:8000/legacy/?query=搜索词

### 8. 测试组合使用
### 获取用户订单
GET http://localhost:8000/users/100/orders/?status=shipped&page=2&limit=5

### 带日期过滤
GET http://localhost:8000/users/100/orders/?start_date=2024-01-01&end_date=2024-01-31&sort_by=total_amount&order=desc

### 9. 实战练习 - 图书馆书籍搜索
### 简单搜索
GET http://localhost:8000/library/books/?page=1&per_page=10

### 按书名搜索
GET http://localhost:8000/library/books/?title=书籍&page=1

### 按作者搜索
GET http://localhost:8000/library/books/?author=作者&page=1

### 按年份范围搜索
GET http://localhost:8000/library/books/?min_year=2000&max_year=2020&page=1

### 按类别搜索
GET http://localhost:8000/library/books/?category=fiction&page=1

### 只显示可借阅的
GET http://localhost:8000/library/books/?available=true&page=1

### 复杂组合搜索
GET http://localhost:8000/library/books/?title=书籍&category=science&min_year=1990&available=true&page=1&per_page=5

### 10. 健康检查
GET http://localhost:8000/health

### 11. 根路径
GET http://localhost:8000/